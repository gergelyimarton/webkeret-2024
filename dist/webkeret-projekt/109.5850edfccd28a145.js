"use strict";(self.webpackChunkwebkeret_projekt=self.webpackChunkwebkeret_projekt||[]).push([[109],{2109:(j,d,a)=>{a.r(d),a.d(d,{GasMeterModule:()=>b});var m=a(177),c=a(803),o=a(9417),t=a(4438),p=a(9817),F=a(6427),l=a(2102),i=a(5596),h=a(9631),f=a(8834);const v=r=>({"background-color":r});function M(r,u){if(1&r&&(t.j41(0,"tr",12)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s()()),2&r){const n=u.$implicit;t.Y8G("ngStyle",t.eq3(4,v,u.index%2==0?"gray":"darkgray")),t.R7$(2),t.JRh(n.name),t.R7$(2),t.JRh(n.start),t.R7$(2),t.JRh(n.current)}}function y(r,u){if(1&r&&(t.j41(0,"div",10)(1,"table")(2,"tr")(3,"th"),t.EFF(4,"N\xe9v"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Kezdeti \xf3ra\xe1ll\xe1s"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Jelenlegi \xf3ra\xe1ll\xe1s"),t.k0s()(),t.DNE(9,M,7,6,"tr",11),t.k0s()()),2&r){const n=t.XpG();t.R7$(9),t.Y8G("ngForOf",n.meters)}}const C=[{path:"",component:(()=>{class r{constructor(n,e,s,g){this.fb=n,this.router=e,this.userService=s,this.meterService=g,this.meters=[],this.meterForm=this.createForm({id:"",user_id:"",name:"",start:0,current:0})}ngOnInit(){const n=JSON.parse(localStorage.getItem("user"));this.userService.getById(n.uid).subscribe(e=>{this.user=e,this.meterForm.get("user_id")?.setValue(this.user?.id),this.meterService.getMetersByUserId(this.user?.id).subscribe(s=>{this.meters=s},s=>{console.error(s)})},e=>{console.error(e)})}createForm(n){let e=this.fb.group(n);return e.get("name")?.addValidators([o.k0.required]),e.get("start")?.addValidators([o.k0.required]),e}addMeter(){if(this.meterForm.valid&&this.meterForm.get("name")&&this.meterForm.get("start")){const n=this.meterForm.getRawValue();this.meterForm.get("current")?.setValue(n.start),this.meterService.create(this.meterForm.value).then(e=>{this.router.navigateByUrl("/main")}).catch(e=>{console.error(e)})}}static#t=this.\u0275fac=function(e){return new(e||r)(t.rXU(o.ok),t.rXU(c.Ix),t.rXU(p.D),t.rXU(F.$))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-water-meter"]],decls:22,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"main_component"],["fxLayout","column","fxLayoutGap","20px","fxLayoutAlign","center center"],[1,"div-flex"],[3,"ngSubmit","formGroup"],["for","name"],["matInput","","type","text","formControlName","name"],["for","start"],["matInput","","type","number","formControlName","start"],["mat-raised-button","","color","warn","type","submit"],["class","table",4,"ngIf"],[1,"table"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"]],template:function(e,s){1&e&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4," \xdaj v\xedz\xf3ra hozz\xe1ad\xe1sa "),t.k0s()(),t.nrm(5,"mat-card-content"),t.j41(6,"mat-card-actions",2)(7,"form",3),t.bIt("ngSubmit",function(){return s.addMeter()}),t.j41(8,"div")(9,"mat-form-field")(10,"mat-label",4),t.EFF(11,"N\xe9v: "),t.k0s(),t.nrm(12,"input",5),t.k0s()(),t.j41(13,"div")(14,"mat-form-field")(15,"mat-label",6),t.EFF(16,"\xd3ra\xe1ll\xe1s: "),t.k0s(),t.nrm(17,"input",7),t.k0s()(),t.j41(18,"div")(19,"button",8),t.EFF(20,"L\xe9trehoz"),t.k0s()()()()(),t.DNE(21,y,10,1,"div",9),t.k0s()),2&e&&(t.R7$(7),t.Y8G("formGroup",s.meterForm),t.R7$(14),t.Y8G("ngIf",s.meters.length))},dependencies:[m.Sq,m.bT,m.B3,o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD,l.rl,l.nJ,i.RN,i.YY,i.m2,i.MM,i.dh,h.fg,f.$z],styles:[".div-card[_ngcontent-%COMP%]{padding:50px}.main_component[_ngcontent-%COMP%]{height:100vh;align-items:center}mat-card[_ngcontent-%COMP%]{width:80%}mat-card-header[_ngcontent-%COMP%]{display:initial}mat-card-actions[_ngcontent-%COMP%]{width:80%}mat-form-field[_ngcontent-%COMP%]{width:80%}.div-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center}.table[_ngcontent-%COMP%]{margin-top:15px}table[_ngcontent-%COMP%]{border-collapse:collapse;table-layout:auto;text-align:center}th[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{padding:8px}"]})}return r})()}];let E=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275mod=t.$C({type:r});static#r=this.\u0275inj=t.G2t({imports:[c.iI.forChild(C),c.iI]})}return r})(),b=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275mod=t.$C({type:r});static#r=this.\u0275inj=t.G2t({imports:[m.MD,E,o.YN,o.X1,l.RG,i.Hu,h.fS,f.Hl]})}return r})()}}]);