{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./shared/services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/sidenav\";\nimport * as i5 from \"@angular/material/toolbar\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"./shared/menu/menu.component\";\nfunction AppComponent_app_menu_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-menu\", 12);\n    i0.ɵɵlistener(\"selectedPage\", function AppComponent_app_menu_3_Template_app_menu_selectedPage_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.changePage($event));\n    })(\"onCloseSidenav\", function AppComponent_app_menu_3_Template_app_menu_onCloseSidenav_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      const sidenav_r4 = i0.ɵɵreference(2);\n      return i0.ɵɵresetView(ctx_r2.onClose($event, sidenav_r4));\n    })(\"onLogout\", function AppComponent_app_menu_3_Template_app_menu_onLogout_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.logout($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"currentPage\", ctx_r2.page)(\"loggedInUser\", ctx_r2.loggedInUser);\n  }\n}\nfunction AppComponent_li_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 13);\n    i0.ɵɵtext(2, \"Bejelentkez\\u00E9s\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_li_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function AppComponent_li_15_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.logout());\n    });\n    i0.ɵɵtext(2, \"Kijelentkez\\u00E9s\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(router, authService) {\n      this.router = router;\n      this.authService = authService;\n      this.title = 'webkeret-projekt';\n      this.page = '';\n      this.routes = [];\n    }\n    ngOnInit() {\n      this.routes = this.router.config.map(conf => conf.path);\n      this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(evts => {\n        const currentPage = evts.urlAfterRedirects.split('/')[1];\n        if (this.routes.includes(currentPage)) {\n          this.page = currentPage;\n        }\n      });\n      this.authService.isUserLoggedIn().subscribe(user => {\n        this.loggedInUser = user;\n        localStorage.setItem('user', JSON.stringify(this.loggedInUser));\n      }, error => {\n        console.error(error);\n        localStorage.setItem('user', JSON.stringify('null'));\n      });\n    }\n    changePage(selectedPage) {\n      this.router.navigateByUrl(selectedPage);\n    }\n    onToggleSidenav(sidenav) {\n      sidenav.toggle();\n    }\n    onClose(event, sidenav) {\n      if (event === true) {\n        sidenav.close();\n      }\n    }\n    logout(event) {\n      this.authService.logout().then(() => {\n        this.router.navigateByUrl('/login');\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n    static #_ = this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 29,\n      vars: 3,\n      consts: [[\"sidenav\", \"\"], [3, \"currentPage\", \"loggedInUser\", \"selectedPage\", \"onCloseSidenav\", \"onLogout\", 4, \"ngIf\"], [\"color\", \"warn\"], [1, \"hamburger-menu-wrapper\"], [\"mat-icon-button\", \"\", 3, \"click\"], [1, \"navigation-wrapper\"], [1, \"navigation-items\"], [4, \"ngIf\"], [\"routerLink\", \"/main\"], [\"routerLink\", \"/reading\"], [\"routerLink\", \"/water-meter\"], [\"routerLink\", \"/contact\"], [3, \"selectedPage\", \"onCloseSidenav\", \"onLogout\", \"currentPage\", \"loggedInUser\"], [\"routerLink\", \"/login\"], [\"routerLink\", \"/login\", 3, \"click\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"mat-sidenav-container\")(1, \"mat-sidenav\", null, 0);\n          i0.ɵɵtemplate(3, AppComponent_app_menu_3_Template, 1, 2, \"app-menu\", 1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"mat-sidenav-content\")(5, \"mat-toolbar\", 2)(6, \"div\", 3)(7, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_7_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const sidenav_r4 = i0.ɵɵreference(2);\n            return i0.ɵɵresetView(ctx.onToggleSidenav(sidenav_r4));\n          });\n          i0.ɵɵelementStart(8, \"mat-icon\");\n          i0.ɵɵtext(9, \"menu\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(10, \"div\");\n          i0.ɵɵtext(11, \"V\\u00EDz\\u00F3rajelent\\u00E9s\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 5)(13, \"ul\", 6);\n          i0.ɵɵtemplate(14, AppComponent_li_14_Template, 3, 0, \"li\", 7)(15, AppComponent_li_15_Template, 3, 0, \"li\", 7);\n          i0.ɵɵelementStart(16, \"li\")(17, \"a\", 8);\n          i0.ɵɵtext(18, \"F\\u0151oldal\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"li\")(20, \"a\", 9);\n          i0.ɵɵtext(21, \"Dikt\\u00E1l\\u00E1s\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"li\")(23, \"a\", 10);\n          i0.ɵɵtext(24, \"V\\u00EDz\\u00F3r\\u00E1im\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(25, \"li\")(26, \"a\", 11);\n          i0.ɵɵtext(27, \"Kapcsolat\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelement(28, \"router-outlet\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.page);\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loggedInUser);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loggedInUser);\n        }\n      },\n      dependencies: [i3.NgIf, i1.RouterOutlet, i1.RouterLink, i4.MatSidenav, i4.MatSidenavContainer, i4.MatSidenavContent, i5.MatToolbar, i6.MatIconButton, i7.MatIcon, i8.MenuComponent],\n      styles: [\".component[_ngcontent-%COMP%]{height:100vh}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#d3d3d3}.navigation-items[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;list-style:none;padding:0;margin:0}@media screen and (max-width: 576px){.navigation-items[_ngcontent-%COMP%]{display:none}}mat-sidenav[_ngcontent-%COMP%]{width:250px}.navigation-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end;padding-left:10px}@media screen and (min-width: 576px){.hamburger-menu-wrapper[_ngcontent-%COMP%]{display:none}}\"]\n    });\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}