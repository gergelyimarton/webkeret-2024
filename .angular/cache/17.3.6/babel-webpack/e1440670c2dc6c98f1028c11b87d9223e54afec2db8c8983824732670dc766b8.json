{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/user.service\";\nimport * as i2 from \"../../shared/services/reading.service\";\nconst _c0 = [\"*\"];\nconst _c1 = a0 => ({\n  \"background-color\": a0\n});\nfunction MainComponent_div_4_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 4)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"dateFormat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function MainComponent_div_4_tr_11_Template_button_click_9_listener() {\n      const reading_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.delete(reading_r2.id));\n    });\n    i0.ɵɵtext(10, \"T\\u00F6rl\\u00E9s\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const reading_r2 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(6, _c1, i_r4 % 2 === 0 ? \"gray\" : \"darkgray\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 4, reading_r2.date));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(reading_r2.reading);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(reading_r2.meter);\n  }\n}\nfunction MainComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"table\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"D\\u00E1tum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Dikt\\u00E1lt \\u00E9rt\\u00E9k\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"G\\u00E1z\\u00F3ra\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"T\\u00F6rl\\u00E9s\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, MainComponent_div_4_tr_11_Template, 11, 8, \"tr\", 3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.readings);\n  }\n}\nexport class MainComponent {\n  constructor(userService, readingService) {\n    this.userService = userService;\n    this.readingService = readingService;\n    this.readings = [];\n  }\n  ngOnInit() {\n    const user = JSON.parse(localStorage.getItem('user'));\n    this.userService.getById(user.uid).subscribe(data => {\n      this.user = data;\n      this.readingService.getReadingsByUserId(this.user?.id).subscribe(readings => {\n        this.readings = readings;\n      }, error => {\n        console.error(error);\n      });\n    });\n  }\n  delete(id) {\n    this.readingService.delete(id);\n  }\n  static #_ = this.ɵfac = function MainComponent_Factory(t) {\n    return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ReadingService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MainComponent,\n    selectors: [[\"app-main\"]],\n    ngContentSelectors: _c0,\n    decls: 5,\n    vars: 1,\n    consts: [[\"fxLayout\", \"column\", \"fxLayoutAlign\", \"center center\", 1, \"main_component\"], [\"fxLayout\", \"\", \"fxLayoutAlign\", \"center center\", 4, \"ngIf\"], [\"fxLayout\", \"\", \"fxLayoutAlign\", \"center center\"], [3, \"ngStyle\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngStyle\"], [\"mat-button\", \"\", 3, \"click\"]],\n    template: function MainComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵprojection(0);\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"h1\");\n        i0.ɵɵtext(3, \"Bedikt\\u00E1lt adatok:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, MainComponent_div_4_Template, 12, 1, \"div\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.readings.length);\n      }\n    },\n    styles: [\"\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\t\\\"use strict\\\";\\n\\n \\t\\n\\n \\t\\n\\n })()[_ngcontent-%COMP%]\\n;\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","MainComponent_div_4_tr_11_Template_button_click_9_listener","reading_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","delete","id","ɵɵproperty","ɵɵpureFunction1","_c1","i_r4","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","date","reading","meter","ɵɵtemplate","MainComponent_div_4_tr_11_Template","readings","MainComponent","constructor","userService","readingService","ngOnInit","user","JSON","parse","localStorage","getItem","getById","uid","subscribe","data","getReadingsByUserId","error","console","_","ɵɵdirectiveInject","i1","UserService","i2","ReadingService","_2","selectors","ngContentSelectors","_c0","decls","vars","consts","template","MainComponent_Template","rf","ctx","ɵɵprojection","MainComponent_div_4_Template","length"],"sources":["/Users/germar/webkeret-2024/src/app/pages/main/main.component.ts","/Users/germar/webkeret-2024/src/app/pages/main/main.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../../shared/services/user.service';\nimport { User } from '../../shared/models/User';\nimport { Reading } from '../../shared/models/Reading';\nimport { ReadingService } from '../../shared/services/reading.service';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})\nexport class MainComponent implements OnInit {\n\n  user?: User;\n  readings: Array<Reading> = [];\n\n\n  constructor(private userService: UserService, private readingService: ReadingService) { }\n\n  ngOnInit(): void {\n    const user = JSON.parse(localStorage.getItem('user') as string) as firebase.default.User;\n    this.userService.getById(user.uid).subscribe(data => {\n      this.user = data;\n      this.readingService.getReadingsByUserId(this.user?.id as string).subscribe(readings => {\n        this.readings = readings;\n    }, error => {\n      console.error(error);\n    });\n    \n    })\n  }\n\n  delete(id: string){\n    this.readingService.delete(id);\n  }\n\n}\n","<ng-content></ng-content>\n<div class=\"main_component\"  fxLayout=\"column\"  fxLayoutAlign=\"center center\">\n    <h1>Bediktált adatok:</h1>\n    <div *ngIf=\"readings.length\" fxLayout  fxLayoutAlign=\"center center\">\n        <table>\n            <tr>\n                <th>Dátum</th>\n                <th>Diktált érték</th>\n                <th>Gázóra</th>\n                <th>Törlés</th>\n            </tr>\n            <tr *ngFor=\"let reading of readings; let i = index;\"\n                [ngStyle]=\"{'background-color' : i % 2 === 0 ? 'gray' : 'darkgray'}\">\n                <td>{{reading.date | dateFormat}}</td>\n                <td>{{reading.reading}}</td>\n                <td>{{reading.meter}}</td>\n                <td>\n                    <button mat-button (click)=\"delete(reading.id)\">Törlés</button>\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}