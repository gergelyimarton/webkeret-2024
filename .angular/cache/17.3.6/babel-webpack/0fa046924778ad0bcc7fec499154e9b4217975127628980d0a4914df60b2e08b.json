{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nlet ReadingService = class ReadingService {\n  constructor(afs) {\n    this.afs = afs;\n    this.collectionName = 'Readings';\n  }\n  create(reading) {\n    reading.id = this.afs.createId();\n    return this.afs.collection(this.collectionName).doc(reading.id).set(reading);\n  }\n  getAll() {\n    return this.afs.collection(this.collectionName).valueChanges();\n  }\n  getReadingsByUserId(userId) {\n    return this.afs.collection(this.collectionName, ref => ref.where('user_id', '==', userId).orderBy('date', 'desc')).valueChanges();\n  }\n  delete(id) {\n    return this.afs.collection(this.collectionName).doc(id).delete();\n  }\n};\nReadingService = __decorate([Injectable({\n  providedIn: 'root'\n})], ReadingService);\nexport { ReadingService };","map":{"version":3,"names":["Injectable","ReadingService","constructor","afs","collectionName","create","reading","id","createId","collection","doc","set","getAll","valueChanges","getReadingsByUserId","userId","ref","where","orderBy","delete","__decorate","providedIn"],"sources":["/Users/germar/webkeret-2024/src/app/shared/services/reading.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { Reading } from '../models/Reading';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReadingService {\n\n  collectionName = 'Readings';\n\n  constructor(private afs: AngularFirestore) { }\n\n  create(reading: Reading) {\n    reading.id = this.afs.createId();\n    return this.afs.collection<Reading>(this.collectionName).doc(reading.id).set(reading);\n  }\n\n  getAll() {\n      return this.afs.collection<Reading>(this.collectionName).valueChanges();\n  }\n\n  getReadingsByUserId(userId: string) {\n    return this.afs.collection<Reading>(this.collectionName, ref => ref.where('user_id', '==', userId).orderBy('date', 'desc')).valueChanges();\n  }\n\n  delete(id: string) {\n    return this.afs.collection<Reading>(this.collectionName).doc(id).delete();\n  }\n\n\n}\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAOnC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAIzBC,YAAoBC,GAAqB;IAArB,KAAAA,GAAG,GAAHA,GAAG;IAFvB,KAAAC,cAAc,GAAG,UAAU;EAEkB;EAE7CC,MAAMA,CAACC,OAAgB;IACrBA,OAAO,CAACC,EAAE,GAAG,IAAI,CAACJ,GAAG,CAACK,QAAQ,EAAE;IAChC,OAAO,IAAI,CAACL,GAAG,CAACM,UAAU,CAAU,IAAI,CAACL,cAAc,CAAC,CAACM,GAAG,CAACJ,OAAO,CAACC,EAAE,CAAC,CAACI,GAAG,CAACL,OAAO,CAAC;EACvF;EAEAM,MAAMA,CAAA;IACF,OAAO,IAAI,CAACT,GAAG,CAACM,UAAU,CAAU,IAAI,CAACL,cAAc,CAAC,CAACS,YAAY,EAAE;EAC3E;EAEAC,mBAAmBA,CAACC,MAAc;IAChC,OAAO,IAAI,CAACZ,GAAG,CAACM,UAAU,CAAU,IAAI,CAACL,cAAc,EAAEY,GAAG,IAAIA,GAAG,CAACC,KAAK,CAAC,SAAS,EAAE,IAAI,EAAEF,MAAM,CAAC,CAACG,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAACL,YAAY,EAAE;EAC5I;EAEAM,MAAMA,CAACZ,EAAU;IACf,OAAO,IAAI,CAACJ,GAAG,CAACM,UAAU,CAAU,IAAI,CAACL,cAAc,CAAC,CAACM,GAAG,CAACH,EAAE,CAAC,CAACY,MAAM,EAAE;EAC3E;CAGD;AAxBYlB,cAAc,GAAAmB,UAAA,EAH1BpB,UAAU,CAAC;EACVqB,UAAU,EAAE;CACb,CAAC,C,EACWpB,cAAc,CAwB1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}