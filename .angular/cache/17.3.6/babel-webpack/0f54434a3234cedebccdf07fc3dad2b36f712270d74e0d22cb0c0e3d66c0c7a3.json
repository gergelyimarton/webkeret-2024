{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nlet SignupComponent = class SignupComponent {\n  constructor(location, authService, userService, router) {\n    this.location = location;\n    this.authService = authService;\n    this.userService = userService;\n    this.router = router;\n    this.signUpForm = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', [Validators.required, Validators.minLength(6)]),\n      rePassword: new FormControl('', [Validators.required, Validators.minLength(6)]),\n      name: new FormGroup({\n        firstName: new FormControl(''),\n        lastName: new FormControl('')\n      })\n    });\n  }\n  ngOnInit() {}\n  onSubmit() {\n    this.authService.signup(this.signUpForm.get('email')?.value, this.signUpForm.get('password')?.value).then(cred => {\n      const user = {\n        id: cred.user?.uid,\n        email: this.signUpForm.get('email')?.value,\n        username: this.signUpForm.get('email')?.value.split('@')[0],\n        name: {\n          firstname: this.signUpForm.get('name.firstName')?.value,\n          lastname: this.signUpForm.get('name.lastName')?.value\n        }\n      };\n      this.userService.create(user).then(_ => {\n        this.router.navigateByUrl('/main');\n      }).catch(error => {\n        console.error(error);\n      });\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n  getEmailErrorMessage() {\n    if (this.signUpForm.get('email')?.hasError('required')) {\n      return 'Kötelető megadni';\n    }\n    return this.signUpForm.get('email')?.hasError('email') ? 'Nem megfelelő e-mail cím' : '';\n  }\n  getPasswordErrorMessage() {\n    if (this.signUpForm.get('password')?.hasError('required')) {\n      return 'Kötelető megadni';\n    }\n    return this.signUpForm.get('password')?.hasError('minLength') ? 'Legalább 6 karaktert adjon meg' : '';\n  }\n  getRePasswordErrorMessage() {\n    if (this.signUpForm.get('rePassword')?.hasError('required')) {\n      return 'Kötelető megadni';\n    }\n    if (this.signUpForm.get('rePassword') !== this.signUpForm.get('password')) {\n      return 'Nem egyezik a két jelszó';\n    }\n    return this.signUpForm.get('rePassword')?.hasError('minLength') ? 'Legalább 6 karaktert adjon meg' : '';\n  }\n  goBack() {\n    this.router.navigateByUrl('/login');\n  }\n};\nSignupComponent = __decorate([Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.scss']\n})], SignupComponent);\nexport { SignupComponent };","map":{"version":3,"names":["Component","FormControl","FormGroup","Validators","SignupComponent","constructor","location","authService","userService","router","signUpForm","email","required","password","minLength","rePassword","name","firstName","lastName","ngOnInit","onSubmit","signup","get","value","then","cred","user","id","uid","username","split","firstname","lastname","create","_","navigateByUrl","catch","error","console","getEmailErrorMessage","hasError","getPasswordErrorMessage","getRePasswordErrorMessage","goBack","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/germar/webkeret-2024/src/app/pages/signup/signup.component.ts"],"sourcesContent":["import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AuthService } from '../../shared/services/auth.service';\nimport { User } from '../../shared/models/User';\nimport { UserService } from '../../shared/services/user.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.scss']\n})\nexport class SignupComponent implements OnInit {\n\n  signUpForm = new FormGroup({\n    email: new FormControl('', [Validators.required, Validators.email]),\n    password: new FormControl('', [Validators.required, Validators.minLength(6)]),\n    rePassword: new FormControl('', [Validators.required, Validators.minLength(6)]),\n    name: new FormGroup({\n      firstName: new FormControl(''),\n      lastName: new FormControl(''),\n    })\n  })\n\n  constructor(private location: Location, private authService: AuthService, private userService: UserService, private router: Router,) { }\n\n  ngOnInit(): void {\n  }\n\n  onSubmit(){\n      this.authService.signup(this.signUpForm.get('email')?.value, this.signUpForm.get('password')?.value).then(cred => {\n        const user: User = {\n          id: cred.user?.uid as string,\n          email: this.signUpForm.get('email')?.value,\n          username: this.signUpForm.get('email')?.value.split('@')[0],\n          name: {\n            firstname: this.signUpForm.get('name.firstName')?.value,\n            lastname: this.signUpForm.get('name.lastName')?.value,\n          }\n        };\n        this.userService.create(user).then(_ => {\n          this.router.navigateByUrl('/main');\n        }).catch(error => {\n          console.error(error);\n        });\n      }).catch(error => {\n        console.error(error);\n      });\n  }\n\n  getEmailErrorMessage() {\n    if (this.signUpForm.get('email')?.hasError('required')) {\n      return 'Kötelető megadni';\n    }\n    return this.signUpForm.get('email')?.hasError('email') ? 'Nem megfelelő e-mail cím' : '';\n  }\n\n  getPasswordErrorMessage() {\n    if (this.signUpForm.get('password')?.hasError('required')) {\n      return 'Kötelető megadni';\n    }\n    return this.signUpForm.get('password')?.hasError('minLength') ? 'Legalább 6 karaktert adjon meg' : '';\n  }\n\n  getRePasswordErrorMessage() {\n    if (this.signUpForm.get('rePassword')?.hasError('required')) {\n      return 'Kötelető megadni';\n    }\n    if(this.signUpForm.get('rePassword') !== this.signUpForm.get('password')){\n      return 'Nem egyezik a két jelszó'\n    }\n    return this.signUpForm.get('rePassword')?.hasError('minLength') ? 'Legalább 6 karaktert adjon meg' : '';\n  }\n\n  goBack() {\n    this.router.navigateByUrl('/login');\n  }\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}